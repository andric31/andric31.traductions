/* ===========================
   Stats â€” compact (moins dâ€™espace)
   Remplace entiÃ¨rement stats.css
   =========================== */

.stats-wrap{
  max-width: 1760px;      /* plus large */
  margin: 0 auto;
  padding: 10px;          /* moins de padding */
}

/* --- Topbar : compacte --- */
.stats-topbar{
  position:sticky;
  top:0;
  z-index:5;

  background:linear-gradient(180deg, rgba(15,17,23,.96), rgba(15,17,23,.86));
  backdrop-filter: blur(8px);

  border:1px solid var(--border);
  border-radius:14px;

  padding: 8px 10px;      /* rÃ©duit */
  display:flex;
  gap: 10px;              /* rÃ©duit */
  align-items:center;
  justify-content:space-between;
}

.stats-title .h1{
  font-size:19px;
  font-weight:800;
  letter-spacing:.2px;
}
.stats-title .sub{
  font-size:12px;
  color:var(--muted);
  margin-top:1px;         /* rÃ©duit */
}

/* --- Controls : serrÃ©s --- */
.stats-controls{
  display:flex;
  gap: 6px;               /* rÃ©duit */
  flex-wrap:wrap;
  justify-content:flex-end;
  align-items:center;
}

.inp,.sel{
  height: 34px;           /* rÃ©duit */
  border:1px solid var(--border);
  background:var(--btn);
  color:var(--fg);
  border-radius:10px;
  padding:0 10px;
  outline:none;
}
.inp{ min-width: 260px; }
.sel{ min-width: 130px; }

/* --- Main : moins dâ€™espace entre graph & tableau --- */
.stats-main{
  display:flex;
  flex-direction:column;
  gap: 6px;               /* âœ… rÃ©duit (clÃ©) */
  margin-top: 6px;        /* âœ… rÃ©duit (clÃ©) */
}

/* --- Cards --- */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
}

/* âœ… header de card plus petit */
.card-h{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 6px 10px;      /* âœ… rÃ©duit (clÃ©) */
  border-bottom:1px solid var(--border);
}

.card-title{font-weight:800}
.card-note{color:var(--muted);font-size:12px}

/* --- Chart : padding bas rÃ©duit, scroll OK --- */
.chart-wrap{
  padding: 6px 10px 4px;  /* âœ… top/sides/bottom rÃ©duit (clÃ©) */
  max-height: 620px;
  overflow: auto;
}

.chart-wrap canvas{
  width:100%;
  height:auto;            /* la hauteur rÃ©elle est gÃ©rÃ©e en JS via canvas.style.height */
  display:block;
  border:1px solid var(--border);
  border-radius:12px;
  background:rgba(0,0,0,.12);
}

/* --- Table --- */
.table-wrap{ overflow:auto; }

.tbl{
  width:100%;
  border-collapse:collapse;
  min-width: 0;           /* plus besoin du 920px si tu veux Ã©viter le scroll horizontal */
}

.tbl th,.tbl td{
  padding: 8px 10px;      /* un peu plus compact */
  border-bottom:1px solid var(--border);
  vertical-align:middle;
}

.tbl thead th{
  position:sticky;
  top:0;
  background:rgba(20,24,38,.98);
  backdrop-filter: blur(6px);
  text-align:left;
  font-size:12px;
  color:var(--muted);
  cursor:pointer;
}

.tbl thead th.num{ text-align:right; }
.tbl td.num{
  text-align:right;
  font-variant-numeric: tabular-nums;
}

.tbl tbody tr:hover{
  background:rgba(90,162,255,.08);
  cursor:pointer;
}

/* --- Cover plus compact --- */
.c-cover{ width:64px; }
.cover{
  width:50px;
  height:50px;
  border-radius:10px;
  object-fit:cover;
  border:1px solid var(--border);
  background:rgba(0,0,0,.14);
}

/* --- Mini UI --- */
.badge-mini{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:18px;
  padding:0 8px;
  border-radius:999px;
  font-size:11px;
  border:1px solid var(--border);
  background:rgba(0,0,0,.18);
  color:var(--muted);
}

.title-line{ display:flex; gap:8px; align-items:center; }
.small{ font-size:12px; color:var(--muted); margin-top:1px; }

/* --- Responsive --- */
@media (max-width: 900px){
  .stats-wrap{ padding:8px; }
  .inp{ min-width:200px; }
  .sel{ min-width:120px; }
  .tbl th,.tbl td{ padding:8px 8px; }
}

/* ðŸ”¥ Force le rapprochement topbar -> graphique (Ã©crase viewer.css) */
.stats-topbar{
  margin-bottom: 4px !important;
}

.stats-main{
  margin-top: 0 !important;   /* au lieu de 6px */
  gap: 4px !important;        /* si tu veux encore plus serrÃ© */
}

/* parfois un style global met des marges sur header/main */
header.stats-topbar{ margin-top: 0 !important; }
main.stats-main{ margin-top: 0 !important; }

/* âœ… Topbar intÃ©grÃ©e dans la card (sticky propre) */
.card-h-topbar{
  position: sticky;
  top: 0;
  z-index: 10;

  background: linear-gradient(180deg, rgba(15,17,23,.96), rgba(15,17,23,.86));
  backdrop-filter: blur(8px);

  /* mÃªme style que ton ancienne topbar */
  border-bottom: 1px solid var(--border);
  padding: 8px 10px;
}

/* âœ… Comme câ€™est dans une card, on gÃ¨re lâ€™arrondi uniquement en haut */
.card-top{
  overflow: hidden;
}
