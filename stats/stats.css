.stats-wrap{max-width:1400px;margin:0 auto;padding:14px;}
.stats-topbar{
  position:sticky;top:0;z-index:5;
  background:linear-gradient(180deg, rgba(15,17,23,.96), rgba(15,17,23,.86));
  backdrop-filter: blur(8px);
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px 12px;
  display:flex;gap:12px;align-items:center;justify-content:space-between;
}
.stats-title .h1{font-size:20px;font-weight:800;letter-spacing:.2px}
.stats-title .sub{font-size:12px;color:var(--muted);margin-top:2px}

.stats-controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.inp,.sel{
  height:38px;
  border:1px solid var(--border);
  background:var(--btn);
  color:var(--fg);
  border-radius:10px;
  padding:0 10px;
  outline:none;
}
.inp{min-width:280px}
.sel{min-width:140px}

.stats-main{display:flex;flex-direction:column;gap:14px;margin-top:12px}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
}
.card-h{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid var(--border)}
.card-title{font-weight:800}
.card-note{color:var(--muted);font-size:12px}

/* ✅ le graphe devient scrollable si "Tout" (canvas peut être très haut) */
.chart-wrap{
  padding:10px 12px;
  max-height: 620px;
  overflow: auto;
}
.chart-wrap canvas{
  width:100%;
  height:auto; /* la hauteur est gérée en JS via canvas.style.height */
  display:block;
  border:1px solid var(--border);
  border-radius:12px;
  background:rgba(0,0,0,.12);
}

.table-wrap{overflow:auto}
.tbl{width:100%;border-collapse:collapse;min-width:920px}
.tbl th,.tbl td{padding:10px 10px;border-bottom:1px solid var(--border);vertical-align:middle}
.tbl thead th{position:sticky;top:0;background:rgba(20,24,38,.98);backdrop-filter: blur(6px);text-align:left;font-size:12px;color:var(--muted);cursor:pointer}
.tbl thead th.num{text-align:right}
.tbl td.num{text-align:right;font-variant-numeric: tabular-nums}
.tbl tbody tr:hover{background:rgba(90,162,255,.08);cursor:pointer}
.c-cover{width:76px}
.cover{
  width:56px;height:56px;border-radius:10px;object-fit:cover;
  border:1px solid var(--border);background:rgba(0,0,0,.14);
}
.badge-mini{
  display:inline-flex;align-items:center;justify-content:center;
  height:18px;padding:0 8px;border-radius:999px;font-size:11px;
  border:1px solid var(--border);background:rgba(0,0,0,.18);color:var(--muted)
}
.title-line{display:flex;gap:8px;align-items:center}
.small{font-size:12px;color:var(--muted);margin-top:2px}
@media (max-width: 900px){
  .inp{min-width:200px}
  .sel{min-width:120px}
}
